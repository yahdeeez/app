{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":67,"index":82}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use client';\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useReleasingSharedObject = useReleasingSharedObject;\n  var _react = require(_dependencyMap[0], \"react\");\n  /**\n   * Returns a shared object, which is automatically cleaned up when the component is unmounted.\n   */\n  function useReleasingSharedObject(factory, dependencies) {\n    const objectRef = (0, _react.useRef)(null);\n    const isFastRefresh = (0, _react.useRef)(false);\n    const previousDependencies = (0, _react.useRef)(dependencies);\n    if (objectRef.current == null) {\n      objectRef.current = factory();\n    }\n    const object = (0, _react.useMemo)(() => {\n      let newObject = objectRef.current;\n      const dependenciesAreEqual = previousDependencies.current?.length === dependencies.length && dependencies.every((value, index) => value === previousDependencies.current[index]);\n\n      // If the dependencies have changed, release the previous object and create a new one, otherwise this has been called\n      // because of a fast refresh, and we don't want to release the object.\n      if (!newObject || !dependenciesAreEqual) {\n        objectRef.current?.release();\n        newObject = factory();\n        objectRef.current = newObject;\n        previousDependencies.current = dependencies;\n      } else {\n        isFastRefresh.current = true;\n      }\n      return newObject;\n    }, dependencies);\n    (0, _react.useEffect)(() => {\n      isFastRefresh.current = false;\n      return () => {\n        // This will be called on every fast refresh and on unmount, but we only want to release the object on unmount.\n        if (!isFastRefresh.current && objectRef.current) {\n          objectRef.current.release();\n        }\n      };\n    }, []);\n    return object;\n  }\n});","lineCount":47,"map":[[2,2,1,0],[2,14,1,12],[3,2,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,10,0,"exports"],[8,9,10,0],[8,10,10,0,"useReleasingSharedObject"],[8,34,10,0],[8,37,10,0,"useReleasingSharedObject"],[8,61,10,0],[9,2,3,0],[9,6,3,0,"_react"],[9,12,3,0],[9,15,3,0,"require"],[9,22,3,0],[9,23,3,0,"_dependencyMap"],[9,37,3,0],[10,2,7,0],[11,0,8,0],[12,0,9,0],[13,2,10,7],[13,11,10,16,"useReleasingSharedObject"],[13,35,10,40,"useReleasingSharedObject"],[13,36,11,2,"factory"],[13,43,11,30],[13,45,12,2,"dependencies"],[13,57,12,30],[13,59,13,17],[14,4,14,2],[14,10,14,8,"objectRef"],[14,19,14,17],[14,22,14,20],[14,26,14,20,"useRef"],[14,32,14,26],[14,33,14,26,"useRef"],[14,39,14,26],[14,41,14,49],[14,45,14,53],[14,46,14,54],[15,4,15,2],[15,10,15,8,"isFastRefresh"],[15,23,15,21],[15,26,15,24],[15,30,15,24,"useRef"],[15,36,15,30],[15,37,15,30,"useRef"],[15,43,15,30],[15,45,15,31],[15,50,15,36],[15,51,15,37],[16,4,16,2],[16,10,16,8,"previousDependencies"],[16,30,16,28],[16,33,16,31],[16,37,16,31,"useRef"],[16,43,16,37],[16,44,16,37,"useRef"],[16,50,16,37],[16,52,16,54,"dependencies"],[16,64,16,66],[16,65,16,67],[17,4,18,2],[17,8,18,6,"objectRef"],[17,17,18,15],[17,18,18,16,"current"],[17,25,18,23],[17,29,18,27],[17,33,18,31],[17,35,18,33],[18,6,19,4,"objectRef"],[18,15,19,13],[18,16,19,14,"current"],[18,23,19,21],[18,26,19,24,"factory"],[18,33,19,31],[18,34,19,32],[18,35,19,33],[19,4,20,2],[20,4,22,2],[20,10,22,8,"object"],[20,16,22,14],[20,19,22,17],[20,23,22,17,"useMemo"],[20,29,22,24],[20,30,22,24,"useMemo"],[20,37,22,24],[20,39,22,25],[20,45,22,31],[21,6,23,4],[21,10,23,8,"newObject"],[21,19,23,17],[21,22,23,20,"objectRef"],[21,31,23,29],[21,32,23,30,"current"],[21,39,23,37],[22,6,24,4],[22,12,24,10,"dependenciesAreEqual"],[22,32,24,30],[22,35,25,6,"previousDependencies"],[22,55,25,26],[22,56,25,27,"current"],[22,63,25,34],[22,65,25,36,"length"],[22,71,25,42],[22,76,25,47,"dependencies"],[22,88,25,59],[22,89,25,60,"length"],[22,95,25,66],[22,99,26,6,"dependencies"],[22,111,26,18],[22,112,26,19,"every"],[22,117,26,24],[22,118,26,25],[22,119,26,26,"value"],[22,124,26,31],[22,126,26,33,"index"],[22,131,26,38],[22,136,26,43,"value"],[22,141,26,48],[22,146,26,53,"previousDependencies"],[22,166,26,73],[22,167,26,74,"current"],[22,174,26,81],[22,175,26,82,"index"],[22,180,26,87],[22,181,26,88],[22,182,26,89],[24,6,28,4],[25,6,29,4],[26,6,30,4],[26,10,30,8],[26,11,30,9,"newObject"],[26,20,30,18],[26,24,30,22],[26,25,30,23,"dependenciesAreEqual"],[26,45,30,43],[26,47,30,45],[27,8,31,6,"objectRef"],[27,17,31,15],[27,18,31,16,"current"],[27,25,31,23],[27,27,31,25,"release"],[27,34,31,32],[27,35,31,33],[27,36,31,34],[28,8,32,6,"newObject"],[28,17,32,15],[28,20,32,18,"factory"],[28,27,32,25],[28,28,32,26],[28,29,32,27],[29,8,33,6,"objectRef"],[29,17,33,15],[29,18,33,16,"current"],[29,25,33,23],[29,28,33,26,"newObject"],[29,37,33,35],[30,8,34,6,"previousDependencies"],[30,28,34,26],[30,29,34,27,"current"],[30,36,34,34],[30,39,34,37,"dependencies"],[30,51,34,49],[31,6,35,4],[31,7,35,5],[31,13,35,11],[32,8,36,6,"isFastRefresh"],[32,21,36,19],[32,22,36,20,"current"],[32,29,36,27],[32,32,36,30],[32,36,36,34],[33,6,37,4],[34,6,38,4],[34,13,38,11,"newObject"],[34,22,38,20],[35,4,39,2],[35,5,39,3],[35,7,39,5,"dependencies"],[35,19,39,17],[35,20,39,18],[36,4,41,2],[36,8,41,2,"useEffect"],[36,14,41,11],[36,15,41,11,"useEffect"],[36,24,41,11],[36,26,41,12],[36,32,41,18],[37,6,42,4,"isFastRefresh"],[37,19,42,17],[37,20,42,18,"current"],[37,27,42,25],[37,30,42,28],[37,35,42,33],[38,6,44,4],[38,13,44,11],[38,19,44,17],[39,8,45,6],[40,8,46,6],[40,12,46,10],[40,13,46,11,"isFastRefresh"],[40,26,46,24],[40,27,46,25,"current"],[40,34,46,32],[40,38,46,36,"objectRef"],[40,47,46,45],[40,48,46,46,"current"],[40,55,46,53],[40,57,46,55],[41,10,47,8,"objectRef"],[41,19,47,17],[41,20,47,18,"current"],[41,27,47,25],[41,28,47,26,"release"],[41,35,47,33],[41,36,47,34],[41,37,47,35],[42,8,48,6],[43,6,49,4],[43,7,49,5],[44,4,50,2],[44,5,50,3],[44,7,50,5],[44,9,50,7],[44,10,50,8],[45,4,52,2],[45,11,52,9,"object"],[45,17,52,15],[46,2,53,0],[47,0,53,1],[47,3]],"functionMap":{"names":["<global>","useReleasingSharedObject","useMemo$argument_0","dependencies.every$argument_0","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCS;yBCY;yBCI,+DD;GDa;YGE;WCG;KDK;GHC;CDG"},"hasCjsExports":false},"type":"js/module"}]}